<!DOCTYPE html>

<html>

  <head>
    <title>MXIV</title>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="script-src 'self'" />
    <link rel="stylesheet" href="colors.css"/>
    <link rel="stylesheet" href="index.css"/>
    <script type="module" src="index.js"></script>
  </head>

  <template id="fileExplorerTemplate">
    <div id="wrapper">
      <div id="header">
        <p id="parentLabel"></p>
        <p>/</p>
        <p id="currentLabel"></p>
      </div>
      <item-list id="itemList"></item-list>
      <input id="search" type="text" placeholder="search" spellcheck="false">
    </div>
  </template>

  <template id="viewerTemplate">
    <div id="wrapper">
      <file-explorer id='fileExplorer' tabindex="1" part="explorer"></file-explorer>
      <view-component id="viewInstance"></view-component>
      <div id="optionBar">
        <p id="explorerBtn" title="toggle explorer panel"></p>
        <p id="playlistBtn" title="toggle playlist panel"></p>
      </div>
    </div>
  </template>

  <template id="viewTemplate">
    <!-- relative container: scrollBox & screenOverlay -->
    <div id="wrapper">
      <!-- star of the show -->
      <div id="scrollBox">
        <div id="view">
          <div style="display: flex; flex-direction: column; align-items: center; margin: auto;">
            <img style="object-fit: scale-down; -webkit-user-drag: none" src="../icons/mxiv-alpha.svg">
            <p style="color: var(--theme-view-palette-hint); font-size: small;">
              press <strong actPaletteAccel></strong> to list actions
            </p>
          </div>
        </div>
      </div>
      <!-- on screen display elements -->
      <div id="screenOverlay">
        <div id="trackPanel">
          <div id="vidTrack">
            <div class="container">
              <div id="vidTime"></div>
              <div id="vidLoop"></div>
              <div class="trackHandle"></div>
            </div>
            <p class="timestamp"></p>
          </div>
          <div class="trackButtons">
            <div class="square" title="previous track">
              <p id="trackSkipL"></p>
            </div>
            <div class="square" title="play/pause">
              <p id="trackPause"></p>
            </div>
            <div class="square" title="next track">
              <p id="trackSkipR"></p>
            </div>
            <div class="passive">
              <p id="trackText"></p>
            </div>
            <div class="meter" style="transform-origin: left;" title="volume">
              <p id="trackMute"></p>
              <p id="trackVolume">100%</p>
            </div>
            <div class="meter" style="transform-origin: right; margin-left: auto;" title="playback rate">
              <p id="trackPitch" icon="speed"></p>
              <p id="trackSpeed">x1.0</p>
            </div>
            <div class="abLoop" style="gap: 0" title="A/B loop">
              <p>A</p>
              <p>B</p>
            </div>
            <div class="square" title="on track end">
              <p id="trackLoop"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>

  <template id="libraryTemplate">
    <div id="wrapper">
      <item-list id="library" tabindex="1"></item-list>
      <div class="menubar">
        <button id="addBtn" title="add to library directly">+</button>
        <button id="watchBtn" title="manage watchlist folders"></button>
        <button id="syncBtn" title="sync library to watchlist folders"></button>
      </div>
      <div class="overlay" style="display: none;">
        <div id="watchListPanel">
          <div id="folderListHeader">
            <p style="margin-right: auto;">Watchlist</p>
            <button id="addToWatch" icon="addfolder" title="add folder"></button>
            <button id="closeWatchlist" icon="close" title="close watchlist"></button>
          </div>
          <div id="folderList"></div>
        </div>
      </div>
    </div>
  </template>

  <body>
    <header>
      <div id="tabScrollL" class="scrollBtn" icon="left" title="scroll left"></div>
      <div id="tabs">
        <div id="newTab" icon="new" title="new tab"></div>
      </div>
      <div id="tabScrollR" class="scrollBtn" icon="right" title="scroll right"></div>
    </header>
    <main>
      <div id="contents"></div>
      <action-palette style="display: none;">
        <div class="paletteContainer">
          <item-list></item-list>
          <div class="paletteInputContainer">
            <div class="info">
              <p icon="info"></p>
              <p class="paletteInfo"></p>
            </div>
            <div class="inputLine">
              <p icon="run"></p>
              <input spellcheck="false" placeholder="ex: open ~/sun.mp4 ..."></input>
              <div class="accelerators" style="padding: .4em; flex-wrap: nowrap;">
                <p class="itemTag">tab</p>
                <p>next</p>
                <p class="itemTag">shift+tab</p>
                <p>back</p>
                <p class="itemTag">shift+space</p>
                <p>select</p>
              </div>
            </div>
          </div>
        </div>
      </action-palette>
      <div id="notifier"></div>
    </main>
    <footer>
      <p></p>
      <p></p>
    </footer>
  </body>

</html>
